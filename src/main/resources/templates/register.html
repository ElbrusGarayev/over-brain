<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Registration</title>
    <link rel="icon" href="/img/overbrain.png">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/register.css">
    <link rel="stylesheet" href="/css/settings.css">
    <script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" rel="stylesheet"/>
</head>
<body>
<div th:replace="fragment/navbar"></div>
<form method="post" enctype="multipart/form-data" th:object="${formUser}">
    <div class="container p-5 mt-5">
        <div class="row main-row">
            <div class="col-md-8 p-3 shadow-lg main-col">
                <div class="row">
                    <div class="col-md-12">
                        <div>
                            <h3 class="text-white font-weight-bold">Registration</h3>
                            <div class="line-cen mb-3 mt-3 rounded"></div>
                        </div>
                    </div>
                </div>
                <div class="row w-100">
                    <div class="col-md-12">
                        <div>
                            <h3 class="text-white font-weight-bold">User Details*</h3>
                            <div class="line mb-3 mt-3 rounded"></div>
                        </div>
                    </div>
                </div>
                <div class="row w-100">
                    <div class="col-md-12 d-flex justify-content-around">
                        <span class="message font-weight-bold text-danger" th:text="${msg}"></span>
                    </div>
                </div>
                <div class="row w-100 ">
                    <div class="col-md-6 mt-4">
                        <input required class="input-item w-100" type="text" placeholder="Fullname" name="fullname" th:field="*{fullname}">
                        <p th:if="${#fields.hasErrors('fullname')}" th:errors="*{fullname}"
                           class="alert alert-danger mt-1"></p>
                    </div>
                    <div class="col-md-6 mt-4">
                        <input id="country" required class="input-item w-100" type="text" placeholder="Country" name="country" th:field="*{country}">
                        <p th:if="${#fields.hasErrors('country')}" th:errors="*{country}"
                           class="alert alert-danger mt-1"></p>
                    </div>
                </div>
                <div class="row w-100 ">
                    <div class="col-md-6 mt-4">
                        <input required class="input-item w-100" type="text" placeholder="Username" name="username" minlength="6" maxlength="20" th:field="*{username}">
                        <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}"
                           class="alert alert-danger mt-1"></p>
                    </div>
                    <div class="col-md-6 mt-4">
                        <input required class="input-item w-100" type="email" placeholder="Email" name="email" th:field="*{email}">
                        <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                           class="alert alert-danger mt-1"></p>
                    </div>
                </div>
                <div class="row w-100">
                    <div class="col-md-6 mt-4">
                        <input id="pass" required class="input-item w-100" type="password" placeholder="Password" name="password" minlength="8" th:field="*{password}">
                        <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
                           class="alert alert-danger mt-1"></p>
                    </div>
                    <div class="col-md-6 mt-4">
                        <input id="rePass" required class="input-item w-100" type="password" placeholder="Confirm Password" name="rePass">
                    </div>
                </div>
                <div class="row w-100 msg-row">
                    <div class="col-md-12 justify-content-center">
                        <span id="message" class="message font-weight-bold"></span>
                    </div>
                </div>
                <div class="row w-100">
                    <div class="col-md-12">
                        <div>
                            <h3 class="text-white mt-4 font-weight-bold">Social media links</h3>
                            <div class="line mb-3 mt-3 rounded"></div>
                        </div>
                    </div>
                </div>
                <div class="row w-100 ">
                    <div class="col-md-6 mt-4">
                        <input class="input-item w-100" type="text" placeholder="Facebook" name="facebook">
                    </div>
                    <div class="col-md-6 mt-4">
                        <input class="input-item w-100" type="text" placeholder="Linkedin" name="linkedin">
                    </div>
                </div>
                <div class="row w-100 ">
                    <div class="col-md-6 mt-4">
                        <input class="input-item w-100" type="text" placeholder="Instagram" name="instagram">
                    </div>
                    <div class="col-md-6 mt-4">
                        <input class="input-item w-100" type="text" placeholder="Github" name="github">
                    </div>
                </div>

                <div class="row w-100">
                    <div class="col-md-12">
                        <div class="avatar-wrapper">
                            <img class="profile-pic" src=""/>
                            <div class="upload-button">
                                <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
                            </div>
                            <input required id="file" class="file-upload" type="file" accept="image/*" name="pp"/>
                        </div>
                    </div>
                </div>
                <div class="row w-100 mt-2">
                    <div class="col-md-6">
                        <div class="profile-card-ctr mb-3">
                            <a href="/user/login">
                                <input type="button" class="profile-card__button button--blue js-message-btn" value="Sign in">
                            </a>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="profile-card-ctr mb-3">
                            <input id="btnSubmit" type="submit" class="profile-card__button button--blue js-message-btn" value="Sign up">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
<script>
    var mydata = ["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla", "Antigua &amp; Barbuda",
        "Argentina","Aruba","Australia","Austria", "Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados",
        "Belarus","Belgium", "Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia &amp; Herzegovina","Botswana",
        "Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia",
        "Cameroon","Cape Verde","Cayman Islands","Chad","Chile","China","Colombia","Congo","Cook Islands",
        "Costa Rica","Cote D Ivoire","Croatia","Cruise Ship","Cuba","Cyprus","Czech Republic","Denmark",
        "Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea",
        "Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Polynesia",
        "French West Indies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland",
        "Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong Kong",
        "Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica",
        "Japan","Jersey","Jordan","Kazakhstan","Kenya","Kuwait","Kyrgyz Republic","Laos","Latvia","Lebanon",
        "Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar",
        "Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco",
        "Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Namibia","Nepal","Netherlands",
        "Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway",
        "Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines",
        "Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russia","Rwanda",
        "Saint Pierre &amp; Miquelon","Samoa","San Marino","Satellite","Saudi Arabia","Senegal",
        "Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea",
        "Spain","Sri Lanka","St Kitts &amp; Nevis","St Lucia","St Vincent","St. Lucia","Sudan","Suriname",
        "Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor L'Este",
        "Togo","Tonga","Trinidad &amp; Tobago","Tunisia","Turkey","Turkmenistan","Turks &amp; Caicos","Uganda",
        "Ukraine","United Arab Emirates","United Kingdom","Uruguay","Uzbekistan","Venezuela","Vietnam",
        "Virgin Islands (US)","Yemen","Zambia","Zimbabwe"];


    $('#country').autocomplete({
        minLength: 1,
        source: function (request, response) {
            response($.map(mydata, function (obj, key) {
                var name = obj.toUpperCase();
                if (name.startsWith(request.term.toUpperCase())) {
                    return {
                        label: obj, // Label for Display
                        value: obj.id // Value
                    }
                } else {
                    return null;
                }
            }));
        }
    });
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>
    $('#pass, #rePass').on('keyup', function () {
        if ($('#pass').val() == $('#rePass').val()) {
            $('#message').html('Matching').css('color', 'green');
        } else
            $('#message').html('Not Matching').css('color', 'red');
    });
</script>
<script>
    $(document).ready(function () {

        var readURL = function (input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('.profile-pic').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }

        $(".file-upload").on('change', function () {
            readURL(this);
        });

        $(".upload-button").on('click', function () {
            $(".file-upload").click();
        });
    });
</script>
<script>
    var uploadField = document.getElementById("file");

    uploadField.onchange = function() {
        if(this.files[0].size > 1048576){
            alert("File must be less than 1.03mb!");
            this.value = "";
        };
    };
</script>
<script type="text/javascript">
    $(function () {
        $("#btnSubmit").click(function () {
            var password = $("#pass").val();
            var confirmPassword = $("#rePass").val();
            if (password != confirmPassword) {
                alert("Passwords do not match.");
                return false;
            }
            return true;
        });
    });
</script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</body>
</html>